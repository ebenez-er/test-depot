
<ion-split-pane when="md" contentId="main">




  <!-- Menu latéral gauche -->
  <ion-menu persistent="true" side="start" contentId="main" class="menu-reduit"   >
    <ion-header>
      <ion-toolbar   >
        <ion-img src="assets/imgs/OIP (4).jpeg" slot="start" class="custom-icon1"></ion-img>
      </ion-toolbar>
    </ion-header>
    <ion-content  >
      <ion-toolbar color="primary">
      <ion-list >
        <ion-item>
          <ion-img src="assets/imgs/OIP (3).jpeg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/home">
          <ion-label>Accueil</ion-label>
        </ion-router-link>
        </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/154-1540410_open-portable-network-graphics.png" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/etudiant">
            <ion-label>Etudiant</ion-label>
          </ion-router-link>
         </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/pencil-and-paper-note-icon-editorial-edit-file-and-writing-symbol-illustration-free-vector.jpg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/inscriptions">
            <ion-label>Inscription</ion-label>
          </ion-router-link>
         </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/264763.png" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/enseignant">
            <ion-label>Enseignant</ion-label>
          </ion-router-link>
          </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/OIP (1).jpeg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/secretary">
            <ion-label>Secretariat</ion-label>
          </ion-router-link>
         </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/OIP (2).jpeg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/directeur-des-etudes">
            <ion-label>Directeur des études</ion-label>
          </ion-router-link>
         </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/comptable.png" slot="start" class="custom-icon"></ion-img>

          <ion-router-link routerLink="/comptable">
            <ion-label>Comptable</ion-label>
          </ion-router-link>
         </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/R (1).png" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/parents">
            <ion-label>Parents</ion-label>
          </ion-router-link>
          </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/OIP.jpeg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/chat">
         <ion-label>Communications</ion-label>
          </ion-router-link>
       </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/student-icon-transparent-26.jpg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/salles">
            <ion-label>Salles</ion-label>
          </ion-router-link>
          </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/profil.jpeg" slot="start" class="custom-icon"> </ion-img>
          <ion-router-link routerLink="/profils">
            <ion-label>Profils</ion-label>
          </ion-router-link>
           </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/cartes.jpg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/finances">
            <ion-label>Payement</ion-label>
          </ion-router-link>
                </ion-item>
      </ion-list>
 </ion-toolbar>
    </ion-content>
  </ion-menu>
  <ion-router-outlet id="main">
 <div class="ion-page" id="main">



  <ion-content>
    <ion-searchbar></ion-searchbar>
    <ion-grid>
     <!-- dashboard-admin.page.html -->


     <ion-row>
      <ion-col size="6">
        <!-- Widget 1 -->
        <ion-card>
          <ion-card-header>
            Utilisateurs connectés
          </ion-card-header>
          <ion-card-content>
            {{ activeUsersCount | async }}
          </ion-card-content>
        </ion-card>
      </ion-col>
      <ion-col size="6">
        <!-- Widget 2 -->
        <ion-card>
          <ion-card-header>
            Nombre total d'utilisateurs
          </ion-card-header>
          <ion-card-content>
            {{ totalUsersCount | async }}
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <!-- Widget 3 -->
        <ion-card>
          <ion-card-header>
            Nombre d'étudiants
          </ion-card-header>
          <ion-card-content>
            {{ studentsCount | async }}
          </ion-card-content>
        </ion-card>
      </ion-col>
      <ion-col size="6">
        <!-- Widget 4 -->
        <ion-card>
          <ion-card-header>
            Nombre d'enseignants
          </ion-card-header>
          <ion-card-content>
            {{ teachersCount | async }}
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

<ion-grid>
      <ion-row>
        <ion-col size="12">
          <form [formGroup]="utilisateurForm" (ngSubmit)="ajouterUtilisateur()">
            <ion-item>
              <ion-label>Nom</ion-label>
              <ion-input formControlName="lastName"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Prénom</ion-label>
              <ion-input formControlName="firstName"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Email</ion-label>
              <ion-input formControlName="email"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Numéro de téléphone</ion-label>
              <ion-input formControlName="phoneNumber"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Adresse</ion-label>
              <ion-input formControlName="address"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Rôle</ion-label>
              <ion-select formControlName="role">
                <ion-select-option value="etudiant">Étudiant</ion-select-option>
                <ion-select-option value="enseignant">Enseignant</ion-select-option>
                <ion-select-option value="secretaire">Secrétaire</ion-select-option>
                <ion-select-option value="directeur">Directeur</ion-select-option>
                <ion-select-option value="parent">Parent</ion-select-option>
                <ion-select-option value="admin">Administrateur</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-button type="submit" [disabled]="utilisateurForm.invalid">Ajouter Utilisateur</ion-button>
          </form>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-list>
            <ion-item *ngFor="let utilisateur of utilisateurs">
              <ion-label>{{ utilisateur.firstName }} {{ utilisateur.lastName }}</ion-label>
              <ion-button (click)="permissionUtilisateur(utilisateur.id, { canEdit: true })">Modifier Permissions</ion-button>
              <ion-button color="danger" (click)="supprimerUtilisateur(utilisateur.id)">Supprimer</ion-button>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>

    </ion-grid>
    <ion-grid *ngIf="afficherListeRoles">
      <!-- Liste des rôles -->
      <ion-row>
        <ion-col size="12">
          <ion-list>
            <ion-item *ngFor="let role of roles">
              <ion-label>{{ role.nom }}</ion-label>
              <ion-button (click)="modifierRole(role.id)">Modifier</ion-button>
              <ion-button color="danger" (click)="supprimerRole(role.id)">Supprimer</ion-button>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
  </div>
</ion-router-outlet>
      <!-- Contenu principal -->

      <!-- Menu latéral droit -->
  <ion-menu persistent="true" side="end" contentId="main" class="menu-reduit">
    <ion-header>
      <ion-toolbar>
        <ion-title>Menu droit</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>


          <ion-img src="assets/imgs/OIP (5).jpeg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/notifications">
            <ion-label>Notifications</ion-label>
          </ion-router-link>
        </ion-item>
        <ion-item>
          <ion-img src="assets/imgs/activity.jpg" slot="start" class="custom-icon"></ion-img>
          <ion-router-link routerLink="/activity">
            <ion-label>Activités</ion-label>
          </ion-router-link>
         </ion-item>


<ion-item>
  <ion-img src="assets/imgs/group_buying_996806.png" slot="start" class="custom-icon"></ion-img>
  <ion-router-link routerLink="/groupes">
    <ion-label>Groupes</ion-label>
  </ion-router-link>
        </ion-item>


</ion-list>
    </ion-content>
  </ion-menu>

    </ion-split-pane>
